#!/usr/bin/env pythonimport xmlrpclibimport socketplc_host='www.planet-lab.eu'slice_name='certhple_purs1'auth = { 'AuthMethod' : 'password',         'Username' : '<planetlab user name>',         'AuthString' : '<planetlab user passwd>',}api_url="https://%s:443/PLCAPI/"%plc_hostplc_api = xmlrpclib.ServerProxy(api_url,allow_none=True)# the slice's node idsnode_ids = plc_api.GetSlices(auth,slice_name,['node_ids'])[0]['node_ids']# get hostname for these nodesslice_nodes = plc_api.GetNodes(auth,node_ids,['hostname'])# store in a filef=open('planetlab.cfg','w')print >>f,'network = {    \n    nodes = (';slsize = len(slice_nodes)for node in slice_nodes:  slsize = slsize - 1   if(slsize == 0):      print 'For host %s' %(node)      print >>f,'    {\n        testbed_ip = \"%s\";\n    }'%(socket.gethostbyname_ex(node['hostname'])[2][0])  else:      print 'For host %s' %(node)      print >>f,'    {\n        testbed_ip = \"%s\";\n    },'%(socket.gethostbyname_ex(node['hostname'])[2][0])print >>f,'    );\n};';f.close()