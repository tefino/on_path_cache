<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Parser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Parser Class Reference</h1><!-- doxytag: class="Parser" -->
<p>(Deployment Application) A parser that parses the topology configuration file (that complies with libconfig++) and builds a custom representation of the network (see <a class="el" href="classDomain.html" title="(Deployment Application) a representation of a network domain as read from the configuration...">Domain</a>).  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="parser_8hpp_source.html">parser.hpp</a>&gt;</code></p>

<p><a href="classParser-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab455e3f261bec0c7f2a6028c3aeb537f"></a><!-- doxytag: member="Parser::Parser" ref="ab455e3f261bec0c7f2a6028c3aeb537f" args="(char *_file, Domain *_dm)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#ab455e3f261bec0c7f2a6028c3aeb537f">Parser</a> (char *_file, <a class="el" href="classDomain.html">Domain</a> *_dm)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor: nothing special. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e658b5917a93a3ef648050d060e3a93"></a><!-- doxytag: member="Parser::~Parser" ref="a3e658b5917a93a3ef648050d060e3a93" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#a3e658b5917a93a3ef648050d060e3a93">~Parser</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor: nothing special. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#a5c2794e2cfa2db72d8b91ad1393a4117">parseConfiguration</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It parses the configuration file and creates a Config object.  <a href="#a5c2794e2cfa2db72d8b91ad1393a4117"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#abc8e63effe32f4e74df54b430bf603ee">buildNetworkDomain</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It builds the custom network representation.  <a href="#abc8e63effe32f4e74df54b430bf603ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#a85c6e99d890c067dbc6cadd100b85661">getGlobalDomainParameters</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reads all mandatory global paramaters of the topology.  <a href="#a85c6e99d890c067dbc6cadd100b85661"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#a44b26e988909bd5c5da35fee704e84ea">addNode</a> (const Setting &amp;node)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It parses a node configuration and maps the configured properties to a NetowrkNode.  <a href="#a44b26e988909bd5c5da35fee704e84ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#a987fe7dd193b8a96652f4cc6cb81a0b1">addConnection</a> (const Setting &amp;connection, <a class="el" href="classNetworkNode.html">NetworkNode</a> *nn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It parses and checks a connection configuration and maps the configured properties to a <a class="el" href="classNetworkConnection.html">NetworkConnection</a>.  <a href="#a987fe7dd193b8a96652f4cc6cb81a0b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#a24c0b31337ee3bf48ea0c1a4e8c84fb1">buildPlanetLabDomain</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It builds the custom network representation using the barabasi albert model with the nodes available from the configuration file.  <a href="#a24c0b31337ee3bf48ea0c1a4e8c84fb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParser.html#af06456c7c3102572b4fe44273442f380">addPlanetLabNode</a> (const Setting &amp;node)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">It parses a node configuration and maps the configured properties to a NetowrkNode.  <a href="#af06456c7c3102572b4fe44273442f380"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>(Deployment Application) A parser that parses the topology configuration file (that complies with libconfig++) and builds a custom representation of the network (see <a class="el" href="classDomain.html" title="(Deployment Application) a representation of a network domain as read from the configuration...">Domain</a>). </p>
<p>it reads the configuration file, parse the global parameters, add all network nodes and connections. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a987fe7dd193b8a96652f4cc6cb81a0b1"></a><!-- doxytag: member="Parser::addConnection" ref="a987fe7dd193b8a96652f4cc6cb81a0b1" args="(const Setting &amp;connection, NetworkNode *nn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::addConnection </td>
          <td>(</td>
          <td class="paramtype">const Setting &amp;&nbsp;</td>
          <td class="paramname"> <em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNetworkNode.html">NetworkNode</a> *&nbsp;</td>
          <td class="paramname"> <em>nn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It parses and checks a connection configuration and maps the configured properties to a <a class="el" href="classNetworkConnection.html">NetworkConnection</a>. </p>
<p>it parses and checks:</p>
<p>to: the node label of the destination node.</p>
<p>Depending on the overlay mode:</p>
<p>src_if: the source ethernet interface (e.g. eth0, tap0).</p>
<p>src_ip: the source IP address for the raw IP socket</p>
<p>dst_if: the destination ethernet interface (e.g. eth0, tap0).</p>
<p>dst_ip: the destination IP address for the raw IP socket</p>
<p>src_mac: the source MAC Address interface - if assigned deployment will not ssh to learn this address.</p>
<p>dst_mac: the destination MAC Address interface - if assigned deployment will not ssh to learn this address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connection</em>&nbsp;</td><td>A reference to a Setting, which in libconfig++ represents a specific entity in the configuration file (here, being the network connection). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nn</em>&nbsp;</td><td>a pointer to the <a class="el" href="classNetworkNode.html">NetworkNode</a> for which this connection is added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if something is wrong. </dd></dl>

</div>
</div>
<a class="anchor" id="a44b26e988909bd5c5da35fee704e84ea"></a><!-- doxytag: member="Parser::addNode" ref="a44b26e988909bd5c5da35fee704e84ea" args="(const Setting &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::addNode </td>
          <td>(</td>
          <td class="paramtype">const Setting &amp;&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It parses a node configuration and maps the configured properties to a NetowrkNode. </p>
<p>it parses and checks:</p>
<p>label: the node label. If it is there, it is assigned to the <a class="el" href="classNetworkNode.html">NetworkNode</a>. If not a random one is generated.</p>
<p>testbed_ip: the IP address of the node in the testbed. It will be used to ssh the node or scp files to it.</p>
<p>running_mode: whether blackadder is running in user or kernel mode in this node.</p>
<p>role: the roles of a <a class="el" href="classNetworkNode.html">NetworkNode</a>. A node can be an RV or/and TM. All other nodes are treated the same way. Only one TM and RV must exist in a <a class="el" href="classDomain.html" title="(Deployment Application) a representation of a network domain as read from the configuration...">Domain</a>.</p>
<p>connections: For each network connection, a <a class="el" href="classNetworkConnection.html">NetworkConnection</a> is a added in the <a class="el" href="classNetworkNode.html">NetworkNode</a>, using the <a class="el" href="classParser.html#a987fe7dd193b8a96652f4cc6cb81a0b1" title="It parses and checks a connection configuration and maps the configured properties...">addConnection()</a> method.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>A reference to a Setting, which in libconfig++ represents a specific entity in the configuration file (here, being the network node). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if something is wrong. </dd></dl>

</div>
</div>
<a class="anchor" id="af06456c7c3102572b4fe44273442f380"></a><!-- doxytag: member="Parser::addPlanetLabNode" ref="af06456c7c3102572b4fe44273442f380" args="(const Setting &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::addPlanetLabNode </td>
          <td>(</td>
          <td class="paramtype">const Setting &amp;&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It parses a node configuration and maps the configured properties to a NetowrkNode. </p>
<p>it parses and checks:</p>
<p>testbed_ip: the IP address of the testbed/planetlab node. It will be used to ssh the node or scp files to it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>A reference to a Setting, which in libconfig++ represents a specific entity in the configuration file (here, being the network node). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if something is wrong. </dd></dl>

</div>
</div>
<a class="anchor" id="abc8e63effe32f4e74df54b430bf603ee"></a><!-- doxytag: member="Parser::buildNetworkDomain" ref="abc8e63effe32f4e74df54b430bf603ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::buildNetworkDomain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It builds the custom network representation. </p>
<p>It reads the configuration file into a Config object, which is then used to read global parameters, node and connection configuration. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if any exception is caught during the execution. </dd></dl>

</div>
</div>
<a class="anchor" id="a24c0b31337ee3bf48ea0c1a4e8c84fb1"></a><!-- doxytag: member="Parser::buildPlanetLabDomain" ref="a24c0b31337ee3bf48ea0c1a4e8c84fb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::buildPlanetLabDomain </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It builds the custom network representation using the barabasi albert model with the nodes available from the configuration file. </p>
<p>It reads the configuration file into a Config object, which is then used to read global parameters, and available planetlab nodes. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if any exception is caught during the execution. </dd></dl>

</div>
</div>
<a class="anchor" id="a85c6e99d890c067dbc6cadd100b85661"></a><!-- doxytag: member="Parser::getGlobalDomainParameters" ref="a85c6e99d890c067dbc6cadd100b85661" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::getGlobalDomainParameters </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reads all mandatory global paramaters of the topology. </p>
<p>These parameters are:</p>
<p>BLACKADDER_ID_LENGTH: the length in bytes of an identifier fragment.</p>
<p>LIPSIN_ID_LENGTH: the length in bytes of the LIPSIN identifiers.</p>
<p>CLICK_HOME: the full path of the Click root folder.</p>
<p>WRITE_CONF: the full path of the folder to which Click configuration and the Topology Manager .graphml files will be written.</p>
<p>USER: the Linux user using which the deployment application will ssh all network nodes.</p>
<p>SUDO: whether sudo is required for executing remote commands.</p>
<p>OVERLAY_MODE: the overlay mode in which blackadder will run (mac or ip). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a5c2794e2cfa2db72d8b91ad1393a4117"></a><!-- doxytag: member="Parser::parseConfiguration" ref="a5c2794e2cfa2db72d8b91ad1393a4117" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parser::parseConfiguration </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>It parses the configuration file and creates a Config object. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if the file was not syntactically correct. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>deployment/<a class="el" href="parser_8hpp_source.html">parser.hpp</a></li>
<li>deployment/parser.cpp</li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Apr 6 10:06:20 2012 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
